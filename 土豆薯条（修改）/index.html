<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>土豆吃薯条</title>
    <style>
      /* 基础样式 */
      body {
        margin: 0;
        height: 100vh;
        width: 100vw;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #ffffff;
        overflow: hidden;
      }

      /* 按钮样式 */
      button {
        border: none;
        background: none;
        cursor: pointer;
        outline: none;
        padding: 4rem;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
      }

      /* 画布样式 */
      #display-canvas {
        width: 150vw;
        height: 150vh;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
      }
    </style>
  </head>
  <body>
    <!-- 按钮包含画布 -->
    <button id="crazy-potato" aria-label="切换主题">
      <canvas id="display-canvas"></canvas>
    </button>

    <script type="module">
      // 导入DotLottie库
      import { DotLottie } from 'https://esm.sh/@lottiefiles/dotlottie-web@0.37.0';

      // 获取DOM元素
      const button = document.getElementById('crazy-potato');
      const canvas = document.querySelector('#display-canvas');
      
      // 定义主题数组和当前索引
      const themes = ['day', 'sunset', 'night', 'midnight', 'winter'];
      let currentThemeIndex = 1;

      // 初始化DotLottie实例
      const dotLottie = new DotLottie({
        autoplay: true,
        loop: true,
        canvas: canvas,
        src: 'https://lottie.host/ea94c1e3-5cea-4846-81ff-395a2d016287/DjCvZcleUA.lottie',
      });

      // 添加点击事件监听器
      button.addEventListener('click', () => {
        // 循环切换主题
        currentThemeIndex = (currentThemeIndex + 1) % themes.length;
        const newTheme = themes[currentThemeIndex];
        
        // 设置新主题
        dotLottie.setTheme(newTheme);
        
        // 控制台输出当前主题（可选）
        console.log(`主题已切换为: ${newTheme}`);
      });
    </script>
  </body>
</html>
